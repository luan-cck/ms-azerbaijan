<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/ress.min.css" />
    <link rel="stylesheet" href="./assets/css/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./assets/css/base.css" />
    <link rel="stylesheet" href="./assets/css/consortium.css" />
    <title>Document</title>
  </head>

  <body class="layout flex">
    <div class="aspect_ratio_container bg_setting" id="aspectContainer">
      <header class="header">
        <div class="header_layout flex">
          <div class="header_right_contents flex">
            <a href="./case_select.html" class="case_select_link flex zen_B">
              <span>
                <img
                  src="./assets/img/list-ul-solid.svg"
                  alt="ケース選択"
                  class="image"
                />
              </span>
              <span>ケース選択</span>
            </a>
            <a href="./index.html" class="header_button top_page_button flex">
              <img
                src="./assets/img/home_white.svg"
                alt="home"
                class="header_button_image"
              />
            </a>
          </div>
          <div class="select_wrap">
            <select id="language_select" class="language_select zen_B">
              <option value="japanese" selected>Japanese</option>
              <option value="english">English</option>
            </select>
          </div>
        </div>
      </header>

      <main class="consortium_main zen_M">
        <section class="consortium">
          <div class="wrapper w_1910">
            <h2 class="page_heading zen_B">
              私たち適応ファイナンスコンソーシアムとは？
            </h2>
          </div>

          <div class="consortium_contents">
            <div class="section_title_container flex">
              <h2 class="section_title txt_center active zen_B" data-slide="0">
                設立目的
              </h2>
              <h2 class="section_title txt_center zen_B" data-slide="1">
                活動内容
              </h2>
              <h2 class="section_title txt_center zen_B" data-slide="2">
                組織構成
              </h2>
              <h2 class="section_title txt_center zen_B" data-slide="3">
                参画企業
              </h2>
            </div>
            <div class="wrapper w_1910">
              <div class="swiper consortium_swiper">
                <div class="swiper-wrapper">
                  <div class="swiper-slide">
                    <div class="description_container flex">
                      <p class="description">
                        デジタル技術を応用して適応価値<br />
                        （減災効果・環境効果）を予測分析し、<br />
                        定量的にわかりやすく投資家に提供することで、<br />
                        投資市場拡大を牽引する適応ファイナンスの社会実装を推進する
                      </p>
                    </div>
                  </div>
                  <div class="swiper-slide activity_layout">
                    <ul class="description_list_container flex">
                      <li class="description_list">
                        投融資や保険などの金融スキームの構築
                      </li>
                      <li class="description_list">
                        デジタル技術を活用した適応策の検討と科学的かつ定量的な評価基準の策定
                      </li>
                      <li class="description_list">
                        効果測定および適応対策方法を活用した新たなビジネス機会の獲得と社会実装
                      </li>
                    </ul>
                  </div>
                  <div class="swiper-slide organization_slide">
                    <dl class="organization_container flex">
                      <dt class="title flex">会長</dt>
                      <dd class="text flex">
                        <span>岡田有策</span>
                        <span class="small_text flex">
                          （慶應義塾大学教授、元内閣府上席科学技術政策フェロー）
                        </span>
                      </dd>
                      <dt class="title flex">代表幹事</dt>
                      <dd class="text flex">
                        <span> 野口 聡一</span>
                        <span class="small_text flex">
                          （宇宙飛行士、株式会社国際社会経済研究所 理事）
                        </span>
                      </dd>
                      <dt class="title flex">幹事社</dt>
                      <dd class="text flex">
                        <span>NEC、三井住友海上</span>
                      </dd>
                    </dl>
                  </div>
                  <div class="swiper-slide activity_layout">
                    <ul class="description_list_container flex">
                      <li class="description_list company_list">
                        日本電気株式会社
                      </li>
                      <li class="description_list company_list">
                        三井住友海上火災保険株式会社
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="./assets/js/swiper-bundle.min.js"></script>
    <script>
      /*--------------------
        consortium_swiper
      --------------------*/
      document.addEventListener("DOMContentLoaded", () => {
        const consortiumSwiperElement =
          document.querySelector(".consortium_swiper");

        if (consortiumSwiperElement) {
          const windowWidth = window.innerWidth;
          const space = Math.max((windowWidth - 1250) / 2, 0);

          window.consortiumSwiper = new Swiper(".consortium_swiper", {
            centeredSlides: false,
            slidesPerView: 1,
            spaceBetween: space,
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            on: {
              init: function (swiper) {
                const swiperWrapper = document.querySelector(
                  ".consortium_swiper .swiper-wrapper"
                );
                if (swiperWrapper) {
                  swiperWrapper.style.transform = "translate3d(0, 0, 0)";
                }

                if (swiper && swiper.activeIndex !== undefined) {
                  updateActiveTitle(swiper.activeIndex);
                }
              },
              slideChange: function (swiper) {
                if (swiper && swiper.activeIndex !== undefined) {
                  updateActiveTitle(swiper.activeIndex);
                }
              },
            },
          });

          window.consortiumSwiper.on("slideChange", function () {
            const firstSlide = document.querySelector(
              ".consortium_swiper .swiper-slide:first-child"
            );
            if (firstSlide) {
              firstSlide.style.marginLeft = "0px";
            }
          });

          const firstSlide = document.querySelector(
            ".consortium_swiper .swiper-slide:first-child"
          );
          if (firstSlide) {
            firstSlide.style.marginLeft = "0px";
          }
        }
      });

      /*--------------------
        click title to switch slide
      --------------------*/
      document.addEventListener("DOMContentLoaded", () => {
        const titles = document.querySelectorAll(".section_title");

        titles.forEach((title) => {
          title.addEventListener("click", () => {
            if (window.consortiumSwiper) {
              const slideIndex = title.dataset.slide;

              if (slideIndex !== undefined) {
                window.consortiumSwiper.slideTo(Number(slideIndex));
              }
            }
          });
        });
      });

      /*--------------------
        switch active title
      --------------------*/
      function updateActiveTitle(activeIndex) {
        const titles = document.querySelectorAll(".section_title");
        titles.forEach((title, index) => {
          if (index === activeIndex) {
            title.classList.add("active");
          } else {
            title.classList.remove("active");
          }
        });
      }
    </script>
    <script>
      /*--------------------
      aspect_setting
      --------------------*/

      function setAspectRatio() {
        const container = document.getElementById("aspectContainer");
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        const aspectRatio = 16 / 9;

        if (windowWidth / windowHeight > aspectRatio) {
          container.style.width = `${windowHeight * aspectRatio}px`;
          container.style.height = `${windowHeight}px`;
        } else {
          container.style.width = `${windowWidth}px`;
          container.style.height = `${windowWidth / aspectRatio}px`;
        }
      }

      window.addEventListener("resize", setAspectRatio);
      document.addEventListener("DOMContentLoaded", setAspectRatio);

      /*--------------------
      top_page_right_adjusting
      --------------------*/

      document.addEventListener("DOMContentLoaded", () => {
        function setHeight() {
          const empty = document.querySelector(".empty");
          const linkContainer = document.querySelector(
            ".description_link_container"
          );

          if (empty) {
            const containerHeight = linkContainer.offsetHeight;
            empty.style.height = `${containerHeight}px`;
          }
        }

        setHeight();
      });

      /*--------------------
      Set_organization_container_margintop
      --------------------*/
      function setMarginTop() {
        const organization = document.querySelector(".organization_container");
        const slide = document.querySelector(".organization_slide");

        // 332 is the sum of the height of the organization_container and the height of the section_title (including margin).
        // Since this height is fixed, a variable is not used.
        if (slide) {
          const organizationMt = (slide.offsetHeight - 332) / 2;
          organization.style.marginTop = `${organizationMt}px`;
        }
      }

      document.addEventListener("DOMContentLoaded", setMarginTop);
      window.addEventListener("resize", setMarginTop);
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const languageSelect = document.getElementById("language_select");

        const currentLang =
          localStorage.getItem("selectedLanguage") || "japanese";
        languageSelect.value = currentLang;

        languageSelect.addEventListener("change", function (event) {
          const selectedLanguage = event.target.value;

          localStorage.setItem("selectedLanguage", selectedLanguage);

          if (selectedLanguage === "japanese") {
            window.location.href = "./consortium.html";
          } else if (selectedLanguage === "english") {
            window.location.href = "./consortium_en.html";
          }
        });
      });
    </script>
  </body>
</html>
